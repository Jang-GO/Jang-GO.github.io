---
layout: post
title:  "Spring Security 동작 방식"
date:   2024-08-19 15:02:06 +0900
categories: 프로젝트
excerpt_separator: <!--more-->
---
<b>Spring Security 파헤치기</b>
<!--more-->

많은 개발자들이 스프링부트를 사용하면 로그인 및 인가처리를 구현할때 스프링 시큐리티를 이용할 것이다.
필자또한 스프링 시큐리티를 이용해서 기능을 구현해본 적이 있다.<br>
허나 스프링 시큐리티의 내부 동작방식을 알지 못해서 오류가나면 해결하지도 못했고 기능확장 또한 어려웠다.<br>
이번에 샘플 코드를 작성해보며 동작방식과 원리에 대해서 파악해보며 스프링 시큐리티를 잘 다루는 개발자가 되어보자.<br>
(모든 내용은 스프링시큐리티 6.3.1 버전의 공식문서와 다른 블로그를 참조하여 작성할 예정이다)

## 스프링 시큐리티와 기본 개념들
공식문서에서 설명하는 스프링 시큐리티가 뭔지에 대하여 번역하여 적어보았다.
>Spring Security는 인증, 인가, 그리고 일반적인 공격에 대한 보호를 제공하는 프레임워크입니다. 명령형 및 리액티브 애플리케이션 모두를 안전하게 보호할 수 있는 일류 지원을 제공하며, Spring 기반 애플리케이션 보안의 사실상 표준(de-facto standard)으로 자리 잡고 있습니다.

* 여기서 일반적인 공격이란 `common attacks`라고 표현되어 있으며 아래 3가지를 의미한다.
    * CSRF 
    * HTTP Headers
    * HTTP Requests
* 인증(Authentication) : 사용자가 <b>누구인지 확인하는 과정</b>
* 인가(Authorization) : 작업을 수행할 수 있는 <b>권한 확인</b>
 
 요약하자면 스프링 시큐리티는 스프링부트에서 인증, 인가, 보안처리에 관련된 사실상 표준이다.

## 인증
인증은 특정 리소스에 접근하는 사용자의 신원을 확인하는 방법이다. 우리가 알다시피 사용자를 인증하는 일반적인 방법은 사용자이름과 비밀번호를 요구하는 것(로그인)이다. 로그인이 수행되면 그때서야 권한을 부여할 수 있다.<br>

## 비밀번호 보안은 어떻게 처리하지?
비밀번호는 유출되어서는 안 되는 아주 중요한 데이터이다.<br>
스프링 시큐리티에서는 `PasswordEncoder` 라는 인터페이스를 제공한다.
* 비밀번호를 안전하게 저장하기 위해 단방향 암호화를 수행한다.
* 일반적으로 비밀번호를 암호화하여 저장하며, 인증 시 사용자가 입력한 비밀번호와 비교하는 데 사용된다.